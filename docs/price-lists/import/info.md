# Импорт прайс-листов

После отправки прайс-листа, он становится в очередь на обработку. Если задача успешно поставлена в очередь,
то ответом на отправку прайс-листа будет его Id. По этому Id можно будет проверить на каком этапе сейчас
находится обработка прайс-листа, а также просмотреть лог ошибок обработки прайс-листа, если таковые были.

Например:
```json
{
    "id": "51b84cd3ddecce0804000001",
    "shopId": 1,
    "fileName": "price-list2013-06-12.csv",
    "size": 1036,
    "date": "2013-06-12 13:26:27",
    "status": "STATUS_WAITING",
    "contentType":"csv",
    "statusMessage":null
}
```

При импорте прайс-листов товары будут сопоставляться с товарами в нашем каталоге в следующем порядке:

1. В случае наличия Onliner ID в предложении, товар будет сопоставлен с товаром в каталоге по Onliner ID. Для успешного обновления данных достаточно только одного Onliner ID — поля Раздел, Товар, Артикул не обязательны.
2. Если Onliner ID отсутствует, сопоставление будет выполнено по артикулу и производителю.
3. В случае отсутствия артикула или невозможности найти соответствие, сопоставление будет произведено по названию, производителю и разделу товара.

Узнать Onliner ID вы можете двумя способами:
1. Выгрузить файл Структура каталога Onlíner, значение model_id и есть Onliner ID
2. Выгрузить свой текущий прайс-лист.

Примеры форматов прайс-листов можно посмотреть [здесь](../formats.md)

Описание задания стоимости курьерской доставки через прайс-лист можно посмотреть [здесь](courier_delivery.md).

Операции с прайс-листами разделены на следующие:

+ [Обновление данных по позициям](update.md)
+ [Загрузка нового прайс-листа](replace.md)

Доступные форматы данных прайс-листа: ___json, xml, csv___.

Для того, чтобы ваш прайс был правильно обработан, запрос должен содержать заголовок __CONTENT-TYPE__.

Доступные значения __CONTENT-TYPE__:

+ application/json, application/x-json
+ text/xml, application/xml, application/x-xml
+ text/csv

Если заголовок будет неверным, ваш запрос будет отвергнут.

Прайс-лист следует отправлять как контент.

### Важно: отправляемые данные должны быть в кодировке utf8.
